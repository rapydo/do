version: "3.8"

# This file may be merged with angular.yml when swarm mode will no longer be optional
# This file is only included in production mode (AND swarm mode)
# once merged with angular.yml could be based on a env variable to modify restart_policy
# variable, i.e.
# restart_policy = any if DEV
# restart_policy = None if PROD

services:
  frontend:
    deploy:
      restart_policy:
        condition: none
    healthcheck:
      test: "echo 'ok'"
      # Just to make the container quickly "running"
      interval: 1s
      timeout: 10s
      retries: 3
      start_period: 1s